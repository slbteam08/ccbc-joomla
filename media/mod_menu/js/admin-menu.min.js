/**
 * @copyright  (C) 2019 Open Source Matters, Inc. <https://www.joomla.org>
 * @license    GNU General Public License version 2 or later; see LICENSE.txt
 */document.querySelectorAll("ul.main-nav").forEach(l=>{new MetisMenu(l)});const wrapper=document.getElementById("wrapper"),sidebar=document.getElementById("sidebar-wrapper"),menuToggleIcon=document.getElementById("menu-collapse-icon");if(sidebar||wrapper.classList.remove("closed"),sidebar&&!sidebar.getAttribute("data-hidden")){const l=document.getElementById("menu-collapse");sidebar.querySelectorAll(".collapse-level-1").forEach(t=>{t.querySelectorAll(".collapse-level-1").forEach(e=>{e&&(e.classList.remove("collapse-level-1"),e.classList.add("collapse-level-2"))})}),l.addEventListener("click",t=>{t.preventDefault(),wrapper.classList.toggle("closed"),menuToggleIcon.classList.toggle("icon-toggle-on"),menuToggleIcon.classList.toggle("icon-toggle-off"),document.querySelectorAll(".main-nav > li").forEach(n=>n.classList.remove("open"));const e=document.querySelector(".child-open");e&&e.classList.remove("child-open"),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:wrapper.classList.contains("closed")?"closed":"open",bubbles:!0,cancelable:!0}))});const s=window.location.href,o=document.querySelector("ul.main-nav");wrapper.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a").forEach(t=>{if((!t.href.match(/index\.php$/)&&s.indexOf(t.href)===0||t.href.match(/index\.php$/)&&s.match(/index\.php$/))&&(t.setAttribute("aria-current","page"),t.classList.add("mm-active"),!t.parentNode.classList.contains("parent"))){let e=t.parentNode;for(;e&&!e.classList.contains("metismenu");)e.parentNode.classList.add("mm-active"),e.classList.add("mm-show"),e=e.parentNode.closest("ul")}});const a=({currentTarget:t})=>{let e=t.parentNode;e.tagName.toLowerCase()==="span"&&(e=t.parentNode.parentNode),e.classList.contains("open")?(o.classList.remove("child-open"),e.classList.remove("open")):([].slice.call(e.parentNode.children).forEach(c=>{c.classList.remove("open")}),wrapper.classList.remove("closed"),menuToggleIcon.classList.contains("icon-toggle-off")&&(menuToggleIcon.classList.toggle("icon-toggle-off"),menuToggleIcon.classList.toggle("icon-toggle-on")),o.classList.add("child-open"),e.parentNode.classList.contains("main-nav")&&e.classList.add("open")),window.dispatchEvent(new CustomEvent("joomla:menu-toggle",{detail:"open",bubbles:!0,cancelable:!0}))};document.querySelectorAll("ul.main-nav li.parent > a").forEach(t=>{t.addEventListener("click",a),t.addEventListener("keyup",a)}),document.querySelectorAll("ul.main-nav li.parent .close").forEach(t=>{t.addEventListener("click",()=>{o.querySelectorAll(".open").forEach(e=>e.classList.remove("open")),o.classList.remove("child-open")})})}
